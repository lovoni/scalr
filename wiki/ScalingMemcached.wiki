#summary How to use memcached role from your application on Scalr


== Does memcached support scaling at all? ==

Memcached does not support scaling on server side.
However, most modern memcached client APIs (PHP, Ruby etc) support server pooling. 
You just specify the list of memcached servers and it takes care about putting/getting the right key from/on the right memcached server.


== Getting it work on Scalr ==
So, to use the scaling, you only need to have a list of instances that are currently running inside the memcached role.

=== Using /etc/aws/hosts ===

You can retrieve it by reading /etc/aws/hosts/memcached folder.

However, to make sure that you have the up-to-date list of IPs, you will have to do this quite frequently.

=== Using Events ===
The better way to react on scaling is to create a simple event handler and update the list of memcached server IPs every time new memcached instance gets launched or goes down.

  * Go to Farms -> View -> Options -> Events and Notifications -> Configure event notifications.

  * Enable RESTEventObserver and put URLs of your handlers in "HostUp URL" and  "HostDown URL" fields.


Your event handlers will be requested over HTTP on HostUp and HostDown events and will rebuild the list of memcached servers in your application configuration.